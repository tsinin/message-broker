\hypertarget{classhavka_1_1HavkaSyncClient}{}\doxysection{havka\+::Havka\+Sync\+Client Class Reference}
\label{classhavka_1_1HavkaSyncClient}\index{havka::BrokerSyncClient@{havka::BrokerSyncClient}}


{\ttfamily \#include $<$client.\+h$>$}



Inheritance diagram for havka\+::Havka\+Sync\+Client\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{classhavka_1_1HavkaSyncClient__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for havka\+::Havka\+Sync\+Client\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{classhavka_1_1HavkaSyncClient__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classhavka_1_1HavkaSyncClient_a5d8184263bca1530784011a13a9959c6}{Havka\+Sync\+Client}} (const net\+::ip\+::address \&server\+Address, unsigned short server\+Port, std\+::size\+\_\+t max\+Buffer\+Size=65536)
\item 
\mbox{\hyperlink{classhavka_1_1HavkaSyncClient_a9313c3f8ffc669a464ff33eff4889891}{$\sim$\+Havka\+Sync\+Client}} ()
\item 
bool \mbox{\hyperlink{classhavka_1_1HavkaSyncClient_a0c4813ad8087227dbdd0b0e499574f75}{connect}} () override
\item 
bool \mbox{\hyperlink{classhavka_1_1HavkaSyncClient_a72c588c294bcd0fca480a9da52b91e68}{post\+Message}} (const \mbox{\hyperlink{structhavka_1_1Message}{Message}} \&message, const std\+::string \&tag, \mbox{\hyperlink{namespacehavka_adbdab8f2725c23c4f65702464ebfbab6}{Request\+Type}} post\+Type) override
\item 
std\+::optional$<$ \mbox{\hyperlink{structhavka_1_1Message}{Message}} $>$ \mbox{\hyperlink{classhavka_1_1HavkaSyncClient_ac940f6d23e7d351a9c46550287aeef29}{get\+Message}} (const std\+::string \&tag, \mbox{\hyperlink{namespacehavka_adbdab8f2725c23c4f65702464ebfbab6}{Request\+Type}} get\+Type) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Interface for message broker client. Code example\+:
\begin{DoxyCode}{0}
\DoxyCodeLine{BrokerSyncClient client(...);}
\DoxyCodeLine{\textcolor{keywordflow}{if} (!client.connect()) \{}
\DoxyCodeLine{    ... error \textcolor{keywordflow}{while} connecting ...}
\DoxyCodeLine{\}}
\DoxyCodeLine{... connection is successful ...}
\DoxyCodeLine{Message message1;}
\DoxyCodeLine{... fill message ...}
\DoxyCodeLine{if (!client.postMessage(message1, \textcolor{stringliteral}{"some tag"}, RequestType::PostMessageSafe)) \{}
\DoxyCodeLine{     ... error \textcolor{keywordflow}{while} posting ...}
\DoxyCodeLine{\}}
\DoxyCodeLine{... posting is successful ...}
\DoxyCodeLine{auto message2 = client.getMessage(\textcolor{stringliteral}{"some other tag"},}
\DoxyCodeLine{                                  Request::GetMessageNonblocking);}
\end{DoxyCode}
 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classhavka_1_1HavkaSyncClient_a5d8184263bca1530784011a13a9959c6}\label{classhavka_1_1HavkaSyncClient_a5d8184263bca1530784011a13a9959c6}} 
\index{havka::BrokerSyncClient@{havka::BrokerSyncClient}!BrokerSyncClient@{BrokerSyncClient}}
\index{BrokerSyncClient@{BrokerSyncClient}!havka::BrokerSyncClient@{havka::BrokerSyncClient}}
\doxysubsubsection{\texorpdfstring{BrokerSyncClient()}{BrokerSyncClient()}}
{\footnotesize\ttfamily havka\+::\+Havka\+Sync\+Client\+::\+Havka\+Sync\+Client (\begin{DoxyParamCaption}\item[{const net\+::ip\+::address \&}]{server\+Address,  }\item[{unsigned short}]{server\+Port,  }\item[{std\+::size\+\_\+t}]{max\+Buffer\+Size = {\ttfamily 65536} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Constructs client for message broker. 
\begin{DoxyParams}{Parameters}
{\em server\+Address} & server\textquotesingle{}s IP address \\
\hline
{\em server\+Port} & server\textquotesingle{}s port \\
\hline
{\em max\+Buffer\+Size} & max size for buffer (aka approximately max message size) in bytes \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classhavka_1_1HavkaSyncClient_a9313c3f8ffc669a464ff33eff4889891}\label{classhavka_1_1HavkaSyncClient_a9313c3f8ffc669a464ff33eff4889891}} 
\index{havka::BrokerSyncClient@{havka::BrokerSyncClient}!````BrokerSyncClientt@{$\sim$BrokerSyncClient}}
\index{````BrokerSyncClientt@{$\sim$BrokerSyncClient}!havka::BrokerSyncClient@{havka::BrokerSyncClient}}
\doxysubsubsection{\texorpdfstring{$\sim$BrokerSyncClient()}{BrokerSyncClientt()}}
{\footnotesize\ttfamily havka\+::\+Havka\+Sync\+Client\+::$\sim$\+Havka\+Sync\+Client (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Destructor for client. Frees buffer. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classhavka_1_1HavkaSyncClient_a0c4813ad8087227dbdd0b0e499574f75}\label{classhavka_1_1HavkaSyncClient_a0c4813ad8087227dbdd0b0e499574f75}} 
\index{havka::BrokerSyncClient@{havka::BrokerSyncClient}!connect@{connect}}
\index{connect@{connect}!havka::BrokerSyncClient@{havka::BrokerSyncClient}}
\doxysubsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily bool havka\+::\+Havka\+Sync\+Client\+::connect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Establishes connection between client and server. Should be used before all requests (post\+Message / get\+Message). If request goes before this function, nothing successful will be returned \begin{DoxyReturn}{Returns}
Returns true on success, false on failure. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classhavka_1_1HavkaClient_a2587d94eea6e8328a351b28e5331ed6e}{havka\+::\+Havka\+Client}}.

\mbox{\Hypertarget{classhavka_1_1HavkaSyncClient_ac940f6d23e7d351a9c46550287aeef29}\label{classhavka_1_1HavkaSyncClient_ac940f6d23e7d351a9c46550287aeef29}} 
\index{havka::BrokerSyncClient@{havka::BrokerSyncClient}!getMessage@{getMessage}}
\index{getMessage@{getMessage}!havka::BrokerSyncClient@{havka::BrokerSyncClient}}
\doxysubsubsection{\texorpdfstring{getMessage()}{getMessage()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{structhavka_1_1Message}{Message}} $>$ havka\+::\+Havka\+Sync\+Client\+::get\+Message (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{tag,  }\item[{\mbox{\hyperlink{namespacehavka_adbdab8f2725c23c4f65702464ebfbab6}{Request\+Type}}}]{get\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Sends the request to the message broker to get message with exact tag. On success, server will delete the message. Blocking. 
\begin{DoxyParams}{Parameters}
{\em tag} & \mbox{\hyperlink{structhavka_1_1Message}{Message}} topic \\
\hline
{\em get\+Type} & Type of get\+Message request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns message on success, std\+::nullopt on failure 
\end{DoxyReturn}
else send N\+O\+T\+H\+I\+NG and server will push task back to queue

Implements \mbox{\hyperlink{classhavka_1_1HavkaClient_a9a9b0548d8256ac6ef17cf06ffb7a063}{havka\+::\+Havka\+Client}}.

\mbox{\Hypertarget{classhavka_1_1HavkaSyncClient_a72c588c294bcd0fca480a9da52b91e68}\label{classhavka_1_1HavkaSyncClient_a72c588c294bcd0fca480a9da52b91e68}} 
\index{havka::BrokerSyncClient@{havka::BrokerSyncClient}!postMessage@{postMessage}}
\index{postMessage@{postMessage}!havka::BrokerSyncClient@{havka::BrokerSyncClient}}
\doxysubsubsection{\texorpdfstring{postMessage()}{postMessage()}}
{\footnotesize\ttfamily bool havka\+::\+Havka\+Sync\+Client\+::post\+Message (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structhavka_1_1Message}{Message}} \&}]{message,  }\item[{const std\+::string \&}]{tag,  }\item[{\mbox{\hyperlink{namespacehavka_adbdab8f2725c23c4f65702464ebfbab6}{Request\+Type}}}]{post\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Sends message to the message broker. \mbox{\hyperlink{structhavka_1_1Message}{Message}} will be read at most once. Blocking. 
\begin{DoxyParams}{Parameters}
{\em message} & \mbox{\hyperlink{structhavka_1_1Message}{Message}} to be sent \\
\hline
{\em tag} & Topic with which message should be sent \\
\hline
{\em post\+Type} & Type of post\+Message request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns true on success, false on failure 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classhavka_1_1HavkaClient_ad1c166c8a3246afc860aab08b1b5749e}{havka\+::\+Havka\+Client}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/client/client.\+h\item 
src/client/client.\+cpp\end{DoxyCompactItemize}
