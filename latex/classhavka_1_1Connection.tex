\hypertarget{classhavka_1_1Connection}{}\doxysection{havka\+::Connection Class Reference}
\label{classhavka_1_1Connection}\index{havka::Connection@{havka::Connection}}


Class is responsible for handling requests from one client.  




{\ttfamily \#include $<$net.\+h$>$}



Inheritance diagram for havka\+::Connection\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{classhavka_1_1Connection__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for havka\+::Connection\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{classhavka_1_1Connection__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classhavka_1_1Connection_add6562955bf900a0cbf487fc61d4dafa}{Connection}} (tcp\+::socket socket, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhavka_1_1IMessageStorage}{I\+Message\+Storage}} $>$ storage, std\+::size\+\_\+t max\+Buffer\+Size=65536)
\item 
\mbox{\hyperlink{classhavka_1_1Connection_aa865db106ed6951ed50ab3e7724c2198}{$\sim$\+Connection}} ()
\item 
void \mbox{\hyperlink{classhavka_1_1Connection_a57838c2eae66a139a4adcc538c28991c}{start}} ()
\item 
void \mbox{\hyperlink{classhavka_1_1Connection_a6cc4b59eda3d60488cd45fead492af4f}{send\+Emerged\+Message}} (const \mbox{\hyperlink{structhavka_1_1Message}{Message}} \&message)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class is responsible for handling requests from one client. 

Class \mbox{\hyperlink{classhavka_1_1Connection}{Connection}} is responsible for handling new client connection\+: reading request, processing request, forming and sending response to client. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classhavka_1_1Connection_add6562955bf900a0cbf487fc61d4dafa}\label{classhavka_1_1Connection_add6562955bf900a0cbf487fc61d4dafa}} 
\index{havka::Connection@{havka::Connection}!Connection@{Connection}}
\index{Connection@{Connection}!havka::Connection@{havka::Connection}}
\doxysubsubsection{\texorpdfstring{Connection()}{Connection()}}
{\footnotesize\ttfamily havka\+::\+Connection\+::\+Connection (\begin{DoxyParamCaption}\item[{tcp\+::socket}]{socket,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classhavka_1_1IMessageStorage}{I\+Message\+Storage}} $>$}]{storage,  }\item[{std\+::size\+\_\+t}]{max\+Buffer\+Size = {\ttfamily 65536} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

Constructs new connection, gets socket and storage pointer from server 
\begin{DoxyParams}{Parameters}
{\em socket} & \mbox{\hyperlink{classhavka_1_1Connection}{Connection}} socket \\
\hline
{\em storage} & Pointer to message storage \\
\hline
{\em max\+Buffer\+Size} & maximum of bytes to be sent and received at once \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classhavka_1_1Connection_aa865db106ed6951ed50ab3e7724c2198}\label{classhavka_1_1Connection_aa865db106ed6951ed50ab3e7724c2198}} 
\index{havka::Connection@{havka::Connection}!````~Connection@{$\sim$Connection}}
\index{````~Connection@{$\sim$Connection}!havka::Connection@{havka::Connection}}
\doxysubsubsection{\texorpdfstring{$\sim$Connection()}{~Connection()}}
{\footnotesize\ttfamily havka\+::\+Connection\+::$\sim$\+Connection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Destructs connection. If there was G\+E\+T-\/request and client didn\textquotesingle{}t confirm the delivery of the message, message returns to the queue 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classhavka_1_1Connection_a6cc4b59eda3d60488cd45fead492af4f}\label{classhavka_1_1Connection_a6cc4b59eda3d60488cd45fead492af4f}} 
\index{havka::Connection@{havka::Connection}!sendEmergedMessage@{sendEmergedMessage}}
\index{sendEmergedMessage@{sendEmergedMessage}!havka::Connection@{havka::Connection}}
\doxysubsubsection{\texorpdfstring{sendEmergedMessage()}{sendEmergedMessage()}}
{\footnotesize\ttfamily void havka\+::\+Connection\+::send\+Emerged\+Message (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structhavka_1_1Message}{Message}} \&}]{message }\end{DoxyParamCaption})}

Function used from Storage, when there are waiting clients and somebody posts message \mbox{\Hypertarget{classhavka_1_1Connection_a57838c2eae66a139a4adcc538c28991c}\label{classhavka_1_1Connection_a57838c2eae66a139a4adcc538c28991c}} 
\index{havka::Connection@{havka::Connection}!start@{start}}
\index{start@{start}!havka::Connection@{havka::Connection}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void havka\+::\+Connection\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Starts connection processing. Creates callbacks on reading request and on timeout deadline. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/server/net.\+h\item 
src/server/net.\+cpp\end{DoxyCompactItemize}
